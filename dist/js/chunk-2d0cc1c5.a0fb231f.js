(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc1c5"],{"4d10":function(a,t,e){"use strict";e.r(t);var l=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("el-row",{attrs:{type:"flex",justify:"center"}},[e("el-col",{attrs:{span:5}},[e("el-form",[e("el-form-item",{attrs:{label:"方案选择："}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:a.selectedPlan,callback:function(t){a.selectedPlan=t},expression:"selectedPlan"}},a._l(a.miningResults,(function(a){return e("el-option",{key:a.id,attrs:{label:a.id,value:a.id}})})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary",disabled:0===a.selectedPlan.length},on:{click:a.updateTableDisplay}},[a._v("确定")])],1)],1)],1),e("el-col",{attrs:{offset:2,span:12}},[e("el-form",["K均值算法"===a.method?e("div",[e("el-form-item",[e("el-button",{attrs:{disabled:0===a.kMeansData.length},on:{click:a.exportKMeansData}},[a._v("导出表格")])],1),e("el-form-item",{attrs:{label:"挖掘结果表："}},[e("el-table",{attrs:{data:a.kMeansData}},[e("el-table-column",{attrs:{prop:"index",label:"类别序号"}}),e("el-table-column",{attrs:{prop:"members",label:"成员"}})],1)],1)],1):a._e(),"主成分分析算法"===a.method?e("div",[e("el-form-item",[e("el-button",{attrs:{disabled:0===a.pcaData.length},on:{click:a.exportPCAData}},[a._v("导出表格")])],1),e("el-form-item",{attrs:{label:"挖掘结果表："}},[e("el-table",{attrs:{data:a.pcaData}},[e("el-table-column",{attrs:{prop:"index",label:"主成分编号"}}),e("el-table-column",{attrs:{prop:"percentage",label:"所占比例"}}),e("el-table-column",{attrs:{prop:"name",label:"影响因素名称"}}),e("el-table-column",{attrs:{prop:"factor",label:"影响因素对应系数"}})],1)],1)],1):a._e(),"关联规则分析算法"===a.method?e("div",[e("el-form-item",[e("el-button",{attrs:{disabled:0===a.aprioriData.length},on:{click:a.exportAprioriData}},[a._v("导出表格")])],1),e("el-form-item",{attrs:{label:"挖掘结果表："}},[e("el-table",{attrs:{data:a.aprioriData}},[e("el-table-column",{attrs:{prop:"name",label:"影响因素名称"}}),e("el-table-column",{attrs:{prop:"score",label:"影响因素强弱得分"}}),e("el-table-column",{attrs:{prop:"confidence",label:"置信度"}})],1)],1)],1):a._e()])],1)],1)],1)},n=[],o=(e("159b"),e("a15b"),e("f59f")),r=e("21a6"),s={name:"MiningResult",data:function(){return{selectedPlan:"",miningResults:[],kMeansData:[],pcaData:[],aprioriData:[],method:""}},mounted:function(){this.loadMiningResults()},methods:{loadMiningResults:function(){var a=this;this.$axios.get("/mining/results").then((function(t){a.$data.miningResults=t.data.data}))},updateTableDisplay:function(){var a=this;this.$axios.get("/predict/results/detail",{params:{tag:this.$data.selectedPlan}}).then((function(t){var e=t.data.data.parameters;a.method=e.method,a.$axios.post("/mining/request",e).then((function(t){if("K均值算法"===e.method){a.$data.kMeansData=[];var l=1;t.data.data.Clusters.forEach((function(t){a.$data.kMeansData.push({index:l,members:t.join("、")}),l+=1}))}else if("主成分分析算法"===e.method){a.$data.pcaData=[];for(var n=0;n<t.data.data.N_components.length;n+=1)for(var o=0;o<t.data.data.FactorName.length;o+=1)a.$data.pcaData.push({index:n+1,percentage:t.data.data.ComponetRatio[n],name:t.data.data.FactorName[o],factor:t.data.data.Vectors[n][o]})}else if("关联规则分析算法"===e.method){a.$data.aprioriData=[];for(var r=0;r<t.data.data.FactorsName.length;r+=1)a.$data.aprioriData.push({name:t.data.data.FactorsName[r],score:t.data.data.Score[r],confidence:t.data.data.Confidence[r]})}}))}))},exportTableSheet:function(a,t){var e=o["parse"](a,{fields:t}),l=new Blob([e],{type:"text/csv"});Object(r["saveAs"])(l,"挖掘结果表.csv")},exportKMeansData:function(){this.exportTableSheet(this.$data.kMeansData,["index","members"])},exportPCAData:function(){this.exportTableSheet(this.$data.pcaData,["index","percentage","name","factor"])},exportAprioriData:function(){this.exportTableSheet(this.$data.aprioriData,["name","score","confidence"])}}},i=s,d=e("2877"),c=Object(d["a"])(i,l,n,!1,null,"26999016",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0cc1c5.a0fb231f.js.map