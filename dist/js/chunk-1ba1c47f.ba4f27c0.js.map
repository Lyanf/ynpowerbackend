{"version":3,"sources":["webpack:///./src/components/YearRangeSelector.vue?f616","webpack:///src/components/YearRangeSelector.vue","webpack:///./src/components/YearRangeSelector.vue?85dd","webpack:///./src/components/YearRangeSelector.vue","webpack:///./src/views/DataMining.vue?bd8b","webpack:///src/views/DataMining.vue","webpack:///./src/views/DataMining.vue?f877","webpack:///./src/views/DataMining.vue","webpack:///./src/views/DataMining.vue?3e56","webpack:///./src/components/YearRangeSelector.vue?9635"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","attrs","on","beginChange","model","value","callback","$$v","beginYearInternal","expression","staticStyle","_v","endChange","endYearInternal","staticRenderFns","name","props","data","beginYear","endYear","methods","$emit","getFullYear","watch","Date","computed","mainStyle","expand","component","knownFactors","postParams","$set","miningResults","length","_e","_l","item","key","_s","StartYear","EndYear","$event","label","param","kind","startsWith","currentTag","id","loadParameters","isFormComplete","commitMining","goToResultPage","components","YearRangeSelector","mounted","loadFactors","loadTags","params","factors","method","$axios","get","tagType","tag","$data","then","response","forEach","element","econamelist","post","window","location","allMethods","knownTags","requiredParams","suggestCategoryCount","para","object","undefined","default"],"mappings":"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","file":"js/chunk-1ba1c47f.ba4f27c0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{style:(_vm.mainStyle),attrs:{\"type\":\"flex\",\"justify\":\"left\"}},[_c('el-col',[_c('el-date-picker',{attrs:{\"type\":\"year\",\"placeholder\":\"起始年份\"},on:{\"change\":_vm.beginChange},model:{value:(_vm.beginYearInternal),callback:function ($$v) {_vm.beginYearInternal=$$v},expression:\"beginYearInternal\"}})],1),_c('el-col',{staticStyle:{\"margin\":\"auto\",\"text-align\":\"center\",\"color\":\"lightgray\",\"font-size\":\"12px\"}},[_vm._v(\" 至 \")]),_c('el-col',[_c('el-date-picker',{attrs:{\"type\":\"year\",\"placeholder\":\"终止年份\"},on:{\"change\":_vm.endChange},model:{value:(_vm.endYearInternal),callback:function ($$v) {_vm.endYearInternal=$$v},expression:\"endYearInternal\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row type=\"flex\" justify=\"left\" :style=\"mainStyle\">\n<!--    <div>-->\n<!--      {{ this.$data }}-->\n<!--    </div>-->\n<!--    <div>-->\n<!--      {{ this.$props }}-->\n<!--    </div>-->\n    <el-col>\n      <el-date-picker\n        v-model=\"beginYearInternal\"\n        type=\"year\"\n        placeholder=\"起始年份\"\n        @change=\"beginChange\"/>\n    </el-col>\n    <el-col style=\"margin: auto; text-align: center; color: lightgray; font-size: 12px\">\n      至\n    </el-col>\n    <el-col>\n      <el-date-picker\n        v-model=\"endYearInternal\"\n        type=\"year\"\n        placeholder=\"终止年份\"\n        @change=\"endChange\"/>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nexport default {\n  name: 'YearRangeSelector',\n  props: ['beginYear', 'endYear', 'expand'],\n  data() {\n    return {\n      beginYearInternal: this.beginYear,\n      endYearInternal: this.endYear,\n    };\n  },\n  methods: {\n    beginChange(value) {\n      if (value === null) {\n        this.$emit('update:beginYear', null);\n      } else {\n        this.$emit('update:beginYear', value.getFullYear());\n      }\n    },\n    endChange(value) {\n      if (value === null) {\n        this.$emit('update:endYear', null);\n      } else {\n        this.$emit('update:endYear', value.getFullYear());\n      }\n    },\n  },\n  watch: {\n    beginYearInternal(value) {\n      if (value === null) {\n        this.$emit('update:beginYear', null);\n        return;\n      }\n      this.$emit('update:beginYear', value.getFullYear());\n      // if (this.$data.endYearInternal === null\n      //   || this.$data.endYearInternal < value) {\n      //   this.$data.endYearInternal = value;\n      //   this.$emit('update:endYear', value.getFullYear());\n      // }\n    },\n    endYearInternal(value) {\n      if (value === null) {\n        this.$emit('update:endYear', null);\n        return;\n      }\n      this.$emit('update:endYear', value.getFullYear());\n      // if (this.$data.beginYearInternal === null\n      //   || this.$data.beginYearInternal > value) {\n      //   this.$data.beginYearInternal = value;\n      //   this.$emit('update:beginYear', value.getFullYear());\n      // }\n    },\n    beginYear(value) {\n      if (value !== null) {\n        this.beginYearInternal = new Date(value, 1, 1);\n      } else {\n        this.beginYearInternal = null;\n      }\n    },\n    endYear(value) {\n      if (value !== null) {\n        this.endYearInternal = new Date(value, 1, 1);\n      } else {\n        this.endYearInternal = null;\n      }\n    },\n  },\n  computed: {\n    mainStyle() {\n      if (this.expand) {\n        return '';\n      }\n      return 'width: 55%';\n    },\n  },\n};\n</script>\n\n<style scoped>\n.el-date-editor.el-input, .el-date-editor.el-input__inner {\n  width: 120px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearRangeSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearRangeSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YearRangeSelector.vue?vue&type=template&id=7bfa7c13&scoped=true&\"\nimport script from \"./YearRangeSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./YearRangeSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./YearRangeSelector.vue?vue&type=style&index=0&id=7bfa7c13&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bfa7c13\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('el-col',{staticStyle:{\"height\":\"100%\"},attrs:{\"offset\":1,\"span\":12}},[_c('el-row',[_c('el-transfer',{staticStyle:{\"height\":\"100%\"},attrs:{\"filterable\":\"\",\"filter-placeholder\":\"输入以查找\",\"data\":_vm.knownFactors,\"titles\":['待选择影响因素', '已选择影响因素'],\"button-texts\":['移除', '添加']},model:{value:(_vm.postParams.factors),callback:function ($$v) {_vm.$set(_vm.postParams, \"factors\", $$v)},expression:\"postParams.factors\"}})],1),_c('el-row',{staticStyle:{\"margin-top\":\"5em\"}},[(_vm.miningResults.length > 0)?_c('span',[_vm._v(\"挖掘结果\")]):_vm._e()]),_c('el-row',{staticStyle:{\"margin-top\":\"2em\"}},_vm._l((_vm.miningResults),function(item){return _c('el-tag',{key:item,staticStyle:{\"margin\":\"5px\"}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1)],1),_c('el-col',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"span\":9,\"offset\":1}},[_c('el-form',{attrs:{\"label-position\":\"right\",\"label-width\":\"auto\"}},[_c('el-form-item',{attrs:{\"label\":\"数据年份：\"}},[_c('year-range-selector',{attrs:{\"begin-year\":_vm.postParams.StartYear,\"end-year\":_vm.postParams.EndYear},on:{\"update:beginYear\":function($event){return _vm.$set(_vm.postParams, \"StartYear\", $event)},\"update:begin-year\":function($event){return _vm.$set(_vm.postParams, \"StartYear\", $event)},\"update:endYear\":function($event){return _vm.$set(_vm.postParams, \"EndYear\", $event)},\"update:end-year\":function($event){return _vm.$set(_vm.postParams, \"EndYear\", $event)}}})],1),_c('el-form-item',{attrs:{\"label\":\"挖掘方法：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.postParams.method),callback:function ($$v) {_vm.$set(_vm.postParams, \"method\", $$v)},expression:\"postParams.method\"}},_vm._l((_vm.allMethods),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._l((_vm.requiredParams),function(param){return _c('div',{key:param.key},[(param.key !== 'econamelist')?_c('el-form-item',{attrs:{\"label\":param.label + '：'}},[(param.kind === 'int')?_c('el-input',{attrs:{\"step\":1,\"type\":\"number\",\"clearable\":\"\",\"placeholder\":\"请输入整数数字\"},model:{value:(_vm.postParams[param.key]),callback:function ($$v) {_vm.$set(_vm.postParams, param.key, $$v)},expression:\"postParams[param.key]\"}}):(param.kind === 'float')?_c('el-input',{attrs:{\"step\":0.01,\"type\":\"number\",\"clearable\":\"\",\"placeholder\":\"请输入数字\"},model:{value:(_vm.postParams[param.key]),callback:function ($$v) {_vm.$set(_vm.postParams, param.key, $$v)},expression:\"postParams[param.key]\"}}):(param.kind.startsWith('option'))?_c('el-select',{attrs:{\"placeholder\":\"请选择一项\"},model:{value:(_vm.postParams[param.key]),callback:function ($$v) {_vm.$set(_vm.postParams, param.key, $$v)},expression:\"postParams[param.key]\"}},_vm._l((param.value),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1):(param.kind.startsWith('multioption'))?_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择数项\"},model:{value:(_vm.postParams[param.key]),callback:function ($$v) {_vm.$set(_vm.postParams, param.key, $$v)},expression:\"postParams[param.key]\"}},_vm._l((param.value),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1):_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.postParams[param.key]),callback:function ($$v) {_vm.$set(_vm.postParams, param.key, $$v)},expression:\"postParams[param.key]\"}})],1):_vm._e()],1)}),_c('el-form-item',{attrs:{\"label\":\"方案标签：\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"可留空\"},model:{value:(_vm.postParams.tag),callback:function ($$v) {_vm.$set(_vm.postParams, \"tag\", $$v)},expression:\"postParams.tag\"}})],1),_c('el-form-item',{attrs:{\"label\":\"加载方案：\"}},[_c('el-select',{staticStyle:{\"width\":\"50%\"},attrs:{\"placeholder\":\"选择标签\",\"size\":\"small\"},model:{value:(_vm.currentTag),callback:function ($$v) {_vm.currentTag=$$v},expression:\"currentTag\"}},_vm._l((_vm.knownTags),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.id,\"value\":item.id}})}),1),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"disabled\":_vm.currentTag === null},on:{\"click\":_vm.loadParameters}},[_vm._v(\"加载\")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.isFormComplete},on:{\"click\":_vm.commitMining}},[_vm._v(\" 确定 \")]),_c('el-button',{on:{\"click\":_vm.goToResultPage}},[_vm._v(\"挖掘结果展示\")])],1)],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <el-col style=\"height: 100%\" :offset=\"1\" :span=\"12\">\n      <el-row>\n        <el-transfer\n          filterable\n          filter-placeholder=\"输入以查找\"\n          v-model=\"postParams.factors\"\n          :data=\"knownFactors\"\n          :titles=\"['待选择影响因素', '已选择影响因素']\"\n          :button-texts=\"['移除', '添加']\"\n          style=\"height: 100%\"\n        >\n        </el-transfer>\n      </el-row>\n      <el-row style=\"margin-top: 5em\">\n        <span v-if=\"miningResults.length > 0\">挖掘结果</span>\n      </el-row>\n      <el-row style=\"margin-top: 2em\" >\n        <el-tag v-for=\"item in miningResults\"\n                :key=\"item\"\n        style=\"margin: 5px\">\n          {{item}}\n        </el-tag>\n      </el-row>\n    </el-col>\n    <el-col :span=\"9\" :offset=\"1\" style=\"margin-right: 20px\">\n      <el-form label-position=\"right\" label-width=\"auto\">\n        <el-form-item label=\"数据年份：\">\n          <year-range-selector :begin-year.sync=\"postParams.StartYear\"\n                               :end-year.sync=\"postParams.EndYear\">\n          </year-range-selector>\n        </el-form-item>\n        <el-form-item label=\"挖掘方法：\">\n          <el-select placeholder=\"请选择\" v-model=\"postParams.method\">\n            <el-option\n              v-for=\"item in allMethods\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <div v-for=\"param in requiredParams\" :key=\"param.key\">\n          <el-form-item :label=\"param.label + '：'\" v-if=\"param.key !== 'econamelist'\">\n            <el-input v-if=\"param.kind === 'int'\" :step=\"1\" type=\"number\"\n                      clearable v-model=\"postParams[param.key]\"\n                      placeholder=\"请输入整数数字\"></el-input>\n            <el-input v-else-if=\"param.kind === 'float'\" :step=\"0.01\" type=\"number\"\n                      clearable v-model=\"postParams[param.key]\"\n                      placeholder=\"请输入数字\"></el-input>\n            <el-select v-else-if=\"param.kind.startsWith('option')\" placeholder=\"请选择一项\"\n                       v-model=\"postParams[param.key]\">\n              <el-option\n                v-for=\"item in param.value\"\n                :key=\"item\"\n                :label=\"item\"\n                :value=\"item\">\n              </el-option>\n            </el-select>\n            <el-select v-else-if=\"param.kind.startsWith('multioption')\" multiple\n                       placeholder=\"请选择数项\" v-model=\"postParams[param.key]\">\n              <el-option\n                v-for=\"item in param.value\"\n                :key=\"item\"\n                :label=\"item\"\n                :value=\"item\">\n              </el-option>\n            </el-select>\n            <el-input v-else placeholder=\"请输入\" v-model=\"postParams[param.key]\">\n            </el-input>\n          </el-form-item>\n        </div>\n        <el-form-item label=\"方案标签：\">\n          <el-input clearable placeholder=\"可留空\" v-model=\"postParams.tag\">\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"加载方案：\">\n          <el-select placeholder=\"选择标签\" v-model=\"currentTag\" size=\"small\" style=\"width: 50%\">\n            <el-option\n              v-for=\"item in knownTags\"\n              :key=\"item.id\"\n              :label=\"item.id\"\n              :value=\"item.id\">\n            </el-option>\n          </el-select>\n          <el-button size=\"small\" @click=\"loadParameters\"\n                     :disabled=\"currentTag === null\"\n                     style=\"margin-left: 10px\">加载</el-button>\n        </el-form-item>\n        <el-form-item>\n          <el-button @click=\"commitMining\"\n                     type=\"primary\"\n                     :disabled=\"!isFormComplete\">\n            确定\n          </el-button>\n          <el-button @click=\"goToResultPage\">挖掘结果展示</el-button>\n        </el-form-item>\n      </el-form>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport YearRangeSelector from '@/components/YearRangeSelector.vue';\n\nexport default {\n  name: 'DataMining',\n  components: {\n    YearRangeSelector,\n  },\n  mounted() {\n    this.loadFactors();\n    this.loadTags();\n  },\n  computed: {\n    isFormComplete() {\n      const params = this.$data.postParams;\n      if (params.StartYear === null || params.EndYear === null) {\n        return false;\n      }\n      if (params.factors.length === 0) {\n        return false;\n      }\n      if (params.method.length === 0) {\n        return false;\n      }\n      return true;\n    },\n  },\n  methods: {\n    loadTags() {\n      this.$axios.get('/tags/query', {\n        params: {\n          tagType: 'MINING',\n        },\n      }).then((response) => {\n        this.$data.knownTags = response.data.data;\n      });\n    },\n    loadParameters() {\n      this.$axios.get('/params/mining', {\n        params: {\n          tag: this.$data.currentTag,\n        },\n      }).then((response) => {\n        this.$data.postParams = response.data.data;\n      });\n    },\n    loadFactors() {\n      this.$axios.get('/factor/query').then((response) => {\n        response.data.data.forEach((element) => {\n          this.$data.knownFactors.push({\n            label: element,\n            key: element,\n          });\n        });\n      });\n    },\n    commitMining() {\n      const params = this.$data.postParams;\n      params.econamelist = this.$data.postParams.factors;\n      this.$axios.post('/mining/request', params).then((response) => {\n        this.$messenger.success('数据挖掘成功。');\n        this.$data.miningResults = response.data.data;\n      });\n    },\n    goToResultPage() {\n      window.location = '/#/miningResult';\n    },\n  },\n  data() {\n    return {\n      allMethods: [{\n        label: 'K均值算法',\n        value: 'K均值算法',\n      }, {\n        label: '主成分分析算法',\n        value: '主成分分析算法',\n      }, {\n        label: '关联规则分析算法',\n        value: '关联规则分析算法',\n      }],\n      knownFactors: [],\n      knownTags: [],\n      requiredParams: [],\n      currentTag: null,\n      suggestCategoryCount: null,\n      miningResults: [],\n      postParams: {\n        method: '',\n        factors: [],\n        StartYear: null,\n        EndYear: null,\n        tag: '',\n        tagType: 'MINING',\n      },\n    };\n  },\n  watch: {\n    // eslint-disable-next-line func-names\n    'postParams.method': function (value) {\n      this.$data.requiredParams = [];\n      this.$axios.get('/get/args', {\n        params: {\n          method: value,\n        },\n      }).then((response) => {\n        response.data.data.para.forEach((object) => {\n          if (object.key === 'StartYear' || object.key === 'EndYear'\n            || object.key === 'PreStartYear' || object.key === 'PreEndYear') {\n            // skip those rubbish parameters\n          } else {\n            // whatever\n            this.$data.requiredParams.push(object);\n            if (object.default !== undefined) {\n              this.$set(this.postParams, object.key, object.default);\n            }\n          }\n        });\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.el-input, .el-select {\n  width: 60%\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataMining.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataMining.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataMining.vue?vue&type=template&id=6cb84e7a&scoped=true&\"\nimport script from \"./DataMining.vue?vue&type=script&lang=js&\"\nexport * from \"./DataMining.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataMining.vue?vue&type=style&index=0&id=6cb84e7a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cb84e7a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataMining.vue?vue&type=style&index=0&id=6cb84e7a&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearRangeSelector.vue?vue&type=style&index=0&id=7bfa7c13&scoped=true&lang=css&\""],"sourceRoot":""}