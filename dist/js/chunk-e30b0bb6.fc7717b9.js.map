{"version":3,"sources":["webpack:///./src/components/YearRangeSelector.vue?f616","webpack:///src/components/YearRangeSelector.vue","webpack:///./src/components/YearRangeSelector.vue?85dd","webpack:///./src/components/YearRangeSelector.vue","webpack:///./src/views/ProvMuniCoordPredict.vue?7c0c","webpack:///./src/components/SelectForm/ProvMuniPredictSelectForm.vue?1429","webpack:///src/components/SelectForm/ProvMuniPredictSelectForm.vue","webpack:///./src/components/SelectForm/ProvMuniPredictSelectForm.vue?e803","webpack:///./src/components/SelectForm/ProvMuniPredictSelectForm.vue","webpack:///src/views/ProvMuniCoordPredict.vue","webpack:///./src/views/ProvMuniCoordPredict.vue?f94e","webpack:///./src/views/ProvMuniCoordPredict.vue","webpack:///./src/components/YearRangeSelector.vue?9635","webpack:///./node_modules/core-js/modules/es.object.keys.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","attrs","on","beginChange","model","value","callback","$$v","beginYearInternal","expression","staticStyle","_v","endChange","endYearInternal","staticRenderFns","name","props","data","beginYear","endYear","methods","$emit","getFullYear","watch","Date","computed","mainStyle","expand","component","tableThreeData","tableFourData","$event","directives","rawName","undefined","currentChart","exportImage","length","exportResultSheet","exportErrorSheet","postParams","historyBeginYear","historyEndYear","$set","_l","item","key","id","_s","typeName","tagType","provPlan","subitem","_e","fileList","onSuccess","onFailure","beforeUpload","baseURL","enabledUploadButton","muniData","canCommitQuery","performPrediction","components","predictYear","provFile","knownTags","knownUploadFiles","tableThreeDataInternal","tableFourDataInternal","MINING","STATIC_REGIONAL","DYNAMIC_INDUSTRIAL","MIX","LONGTERM","BIGUSER","SOKU","CLAMP","INTERP","YEARCONT","loadTags","$axios","get","params","loadMunicipals","then","municipals","forEach","loadUploadedFiles","$data","$messenger","success","error","post","param","Object","keys","isOk","defaults","mounted","base64ToBlob","code","uInt8Array","i","raw","charCodeAt","Blob","refreshChart","console","log","echarts","pieData","push","elem","region","predictAfter","setOption","series","exportTableSheet","fields","handler","deep","immediate","$","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","target","stat","forced","it"],"mappings":"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","file":"js/chunk-e30b0bb6.fc7717b9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{style:(_vm.mainStyle),attrs:{\"type\":\"flex\",\"justify\":\"left\"}},[_c('el-col',[_c('el-date-picker',{attrs:{\"type\":\"year\",\"placeholder\":\"起始年份\"},on:{\"change\":_vm.beginChange},model:{value:(_vm.beginYearInternal),callback:function ($$v) {_vm.beginYearInternal=$$v},expression:\"beginYearInternal\"}})],1),_c('el-col',{staticStyle:{\"margin\":\"auto\",\"text-align\":\"center\",\"color\":\"lightgray\",\"font-size\":\"12px\"}},[_vm._v(\" 至 \")]),_c('el-col',[_c('el-date-picker',{attrs:{\"type\":\"year\",\"placeholder\":\"终止年份\"},on:{\"change\":_vm.endChange},model:{value:(_vm.endYearInternal),callback:function ($$v) {_vm.endYearInternal=$$v},expression:\"endYearInternal\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-row type=\"flex\" justify=\"left\" :style=\"mainStyle\">\r\n<!--    <div>-->\r\n<!--      {{ this.$data }}-->\r\n<!--    </div>-->\r\n<!--    <div>-->\r\n<!--      {{ this.$props }}-->\r\n<!--    </div>-->\r\n    <el-col>\r\n      <el-date-picker\r\n        v-model=\"beginYearInternal\"\r\n        type=\"year\"\r\n        placeholder=\"起始年份\"\r\n        @change=\"beginChange\"/>\r\n    </el-col>\r\n    <el-col style=\"margin: auto; text-align: center; color: lightgray; font-size: 12px\">\r\n      至\r\n    </el-col>\r\n    <el-col>\r\n      <el-date-picker\r\n        v-model=\"endYearInternal\"\r\n        type=\"year\"\r\n        placeholder=\"终止年份\"\r\n        @change=\"endChange\"/>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'YearRangeSelector',\r\n  props: ['beginYear', 'endYear', 'expand'],\r\n  data() {\r\n    return {\r\n      beginYearInternal: this.beginYear,\r\n      endYearInternal: this.endYear,\r\n    };\r\n  },\r\n  methods: {\r\n    beginChange(value) {\r\n      if (value === null) {\r\n        this.$emit('update:beginYear', null);\r\n      } else {\r\n        this.$emit('update:beginYear', value.getFullYear());\r\n      }\r\n    },\r\n    endChange(value) {\r\n      if (value === null) {\r\n        this.$emit('update:endYear', null);\r\n      } else {\r\n        this.$emit('update:endYear', value.getFullYear());\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    beginYearInternal(value) {\r\n      if (value === null) {\r\n        this.$emit('update:beginYear', null);\r\n        return;\r\n      }\r\n      this.$emit('update:beginYear', value.getFullYear());\r\n      // if (this.$data.endYearInternal === null\r\n      //   || this.$data.endYearInternal < value) {\r\n      //   this.$data.endYearInternal = value;\r\n      //   this.$emit('update:endYear', value.getFullYear());\r\n      // }\r\n    },\r\n    endYearInternal(value) {\r\n      if (value === null) {\r\n        this.$emit('update:endYear', null);\r\n        return;\r\n      }\r\n      this.$emit('update:endYear', value.getFullYear());\r\n      // if (this.$data.beginYearInternal === null\r\n      //   || this.$data.beginYearInternal > value) {\r\n      //   this.$data.beginYearInternal = value;\r\n      //   this.$emit('update:beginYear', value.getFullYear());\r\n      // }\r\n    },\r\n    beginYear(value) {\r\n      if (value !== null) {\r\n        this.beginYearInternal = new Date(value, 1, 1);\r\n      } else {\r\n        this.beginYearInternal = null;\r\n      }\r\n    },\r\n    endYear(value) {\r\n      if (value !== null) {\r\n        this.endYearInternal = new Date(value, 1, 1);\r\n      } else {\r\n        this.endYearInternal = null;\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    mainStyle() {\r\n      if (this.expand) {\r\n        return '';\r\n      }\r\n      return 'width: 55%';\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-date-editor.el-input, .el-date-editor.el-input__inner {\r\n  width: 120px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearRangeSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearRangeSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YearRangeSelector.vue?vue&type=template&id=7bfa7c13&scoped=true&\"\nimport script from \"./YearRangeSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./YearRangeSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./YearRangeSelector.vue?vue&type=style&index=0&id=7bfa7c13&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bfa7c13\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('ProvMuniPredictSelectForm',{attrs:{\"table-three-data\":_vm.tableThreeData,\"table-four-data\":_vm.tableFourData},on:{\"update:tableThreeData\":function($event){_vm.tableThreeData=$event},\"update:table-three-data\":function($event){_vm.tableThreeData=$event},\"update:tableFourData\":function($event){_vm.tableFourData=$event},\"update:table-four-data\":function($event){_vm.tableFourData=$event}}})],1),_c('el-col',{attrs:{\"span\":15,\"offset\":1}},[_c('el-form',[_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentChart !== undefined),expression:\"currentChart !== undefined\"}]},[_c('el-row',[_c('div',{staticStyle:{\"width\":\"680px\",\"height\":\"300px\"},attrs:{\"id\":\"pieChart\"}})])],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentChart !== undefined),expression:\"currentChart !== undefined\"}]},[_c('el-button',{on:{\"click\":_vm.exportImage}},[_vm._v(\"导出图像\")])],1),_c('el-form-item',{attrs:{\"label\":\"预测年份的协调预测结果：\"}},[_c('el-table',{attrs:{\"data\":_vm.tableFourData}},[_c('el-table-column',{attrs:{\"label\":\"年份\",\"prop\":\"year\"}}),_c('el-table-column',{attrs:{\"label\":\"地区\",\"prop\":\"region\"}}),_c('el-table-column',{attrs:{\"label\":\"协调前预测值\",\"prop\":\"predictBefore\"}}),_c('el-table-column',{attrs:{\"label\":\"协调后预测值\",\"prop\":\"predictAfter\"}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"disabled\":_vm.tableFourData.length === 0},on:{\"click\":_vm.exportResultSheet}},[_vm._v(\"导出预测结果表\")])],1),_c('el-form-item',{attrs:{\"label\":\"历史年份协调预测误差校核：\"}},[_c('el-table',{attrs:{\"data\":_vm.tableThreeData}},[_c('el-table-column',{attrs:{\"label\":\"年份\",\"prop\":\"year\"}}),_c('el-table-column',{attrs:{\"label\":\"地区\",\"prop\":\"region\"}}),_c('el-table-column',{attrs:{\"label\":\"协调前预测值\",\"prop\":\"predictValueBefore\"}}),_c('el-table-column',{attrs:{\"label\":\"协调前预测误差\",\"prop\":\"predictErrorBefore\"}}),_c('el-table-column',{attrs:{\"label\":\"协调后预测值\",\"prop\":\"predictValueAfter\"}}),_c('el-table-column',{attrs:{\"label\":\"协调后预测误差\",\"prop\":\"predictErrorAfter\"}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"disabled\":_vm.tableThreeData.length === 0},on:{\"click\":_vm.exportErrorSheet}},[_vm._v(\"导出历史误差表\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{attrs:{\"label-position\":\"right\",\"label-width\":\"auto\"}},[_c('el-form-item',{attrs:{\"label\":\"历史年份区间：\"}},[_c('year-range-selector',{attrs:{\"expand\":true,\"begin-year\":_vm.postParams.historyBeginYear,\"end-year\":_vm.postParams.historyEndYear},on:{\"update:beginYear\":function($event){return _vm.$set(_vm.postParams, \"historyBeginYear\", $event)},\"update:begin-year\":function($event){return _vm.$set(_vm.postParams, \"historyBeginYear\", $event)},\"update:endYear\":function($event){return _vm.$set(_vm.postParams, \"historyEndYear\", $event)},\"update:end-year\":function($event){return _vm.$set(_vm.postParams, \"historyEndYear\", $event)}}})],1),_c('el-form-item',{attrs:{\"label\":\"预测年份：\"}},[_c('el-date-picker',{attrs:{\"type\":\"year\",\"value-format\":\"yyyy\",\"placeholder\":\"请选择\"},model:{value:(_vm.postParams.predictYear),callback:function ($$v) {_vm.$set(_vm.postParams, \"predictYear\", $$v)},expression:\"postParams.predictYear\"}})],1),_c('el-form-item',{attrs:{\"label\":\"省级负荷预测方案选择：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.postParams.provPlan),callback:function ($$v) {_vm.$set(_vm.postParams, \"provPlan\", $$v)},expression:\"postParams.provPlan\"}},[_vm._l((_vm.knownTags),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.id}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(item.id))]),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#8492a6\"}},[_vm._v(_vm._s(_vm.typeName[item.tagType]))])])}),_c('el-option',{key:'__byUpload__',attrs:{\"label\":\"通过文件上传\",\"value\":'__byUpload__'}})],2)],1),(_vm.postParams.provPlan === '__byUpload__')?_c('el-form-item',{attrs:{\"label\":\"云南省：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.postParams.provFile),callback:function ($$v) {_vm.$set(_vm.postParams, \"provFile\", $$v)},expression:\"postParams.provFile\"}},_vm._l((_vm.knownUploadFiles),function(subitem){return _c('el-option',{key:_vm.value + subitem,attrs:{\"label\":subitem,\"value\":subitem}})}),1)],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"地级市负荷预测方案选择：\"}},[_c('el-upload',{attrs:{\"multiple\":\"\",\"file-list\":_vm.postParams.fileList,\"show-file-list\":false,\"auto-upload\":true,\"on-success\":_vm.onSuccess,\"on-error\":_vm.onFailure,\"before-upload\":_vm.beforeUpload,\"action\":_vm.baseURL + '/predict/munidata/upload'}},[_c('el-button',{attrs:{\"disabled\":!_vm.enabledUploadButton}},[_vm._v(\"上传文件\")])],1)],1),_vm._l((_vm.postParams.muniData),function(value,key){return _c('el-form-item',{key:key,attrs:{\"label\":(key + '：')}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.postParams.muniData[key]),callback:function ($$v) {_vm.$set(_vm.postParams.muniData, key, $$v)},expression:\"postParams.muniData[key]\"}},_vm._l((_vm.knownUploadFiles),function(subitem){return _c('el-option',{key:value + subitem,attrs:{\"label\":subitem,\"value\":subitem}})}),1)],1)}),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.canCommitQuery},on:{\"click\":_vm.performPrediction}},[_vm._v(\"预测\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-form label-position=\"right\" label-width=\"auto\">\r\n    <el-form-item label=\"历史年份区间：\">\r\n      <year-range-selector\r\n        :expand=\"true\"\r\n        :begin-year.sync=\"postParams.historyBeginYear\"\r\n        :end-year.sync=\"postParams.historyEndYear\">\r\n      </year-range-selector>\r\n    </el-form-item>\r\n    <el-form-item label=\"预测年份：\">\r\n      <el-date-picker\r\n        v-model=\"postParams.predictYear\"\r\n        type=\"year\"\r\n        value-format=\"yyyy\"\r\n        placeholder=\"请选择\"/>\r\n    </el-form-item>\r\n    <el-form-item label=\"省级负荷预测方案选择：\">\r\n      <el-select placeholder=\"请选择\" v-model=\"postParams.provPlan\">\r\n        <el-option\r\n          v-for=\"item in knownTags\"\r\n          :key=\"item.id\"\r\n          :value=\"item.id\">\r\n          <span style=\"float: left\">{{ item.id }}</span>\r\n          <span style=\"float: right; color: #8492a6;\">{{ typeName[item.tagType] }}</span>\r\n        </el-option>\r\n        <el-option :key=\"'__byUpload__'\" label=\"通过文件上传\" :value=\"'__byUpload__'\"></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"云南省：\" v-if=\"postParams.provPlan === '__byUpload__'\">\r\n      <el-select placeholder=\"请选择\" v-model=\"postParams.provFile\">\r\n        <el-option\r\n          v-for=\"subitem in knownUploadFiles\"\r\n          :key=\"value + subitem\"\r\n          :label=\"subitem\"\r\n          :value=\"subitem\">\r\n        </el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"地级市负荷预测方案选择：\">\r\n      <el-upload\r\n        multiple\r\n        :file-list=\"postParams.fileList\"\r\n        :show-file-list=\"false\"\r\n        :auto-upload=\"true\"\r\n        :on-success=\"onSuccess\"\r\n        :on-error=\"onFailure\"\r\n        :before-upload=\"beforeUpload\"\r\n        :action=\"baseURL + '/predict/munidata/upload'\"\r\n      >\r\n        <el-button :disabled=\"!enabledUploadButton\">上传文件</el-button>\r\n      </el-upload>\r\n    </el-form-item>\r\n    <el-form-item v-for='(value, key) in postParams.muniData'\r\n                  :key=\"key\"\r\n                  :label=\"(key + '：')\">\r\n      <el-select placeholder=\"请选择\" v-model=\"postParams.muniData[key]\">\r\n        <el-option\r\n          v-for=\"subitem in knownUploadFiles\"\r\n          :key=\"value + subitem\"\r\n          :label=\"subitem\"\r\n          :value=\"subitem\">\r\n        </el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item>\r\n      <el-button @click=\"performPrediction\"\r\n                 type=\"primary\"\r\n                 :disabled=\"!canCommitQuery\">预测</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport YearRangeSelector from '@/components/YearRangeSelector.vue';\r\n\r\nexport default {\r\n  name: 'ProvMuniPredictSelectForm',\r\n  components: { YearRangeSelector },\r\n  data() {\r\n    return {\r\n      enabledUploadButton: true,\r\n      postParams: {\r\n        historyBeginYear: null,\r\n        historyEndYear: null,\r\n        predictYear: null,\r\n        provPlan: '',\r\n        provFile: '',\r\n        muniData: {},\r\n      },\r\n      knownTags: [],\r\n      knownUploadFiles: [],\r\n      tableThreeDataInternal: [],\r\n      tableFourDataInternal: [],\r\n      typeName: {\r\n        MINING: '数据挖掘方案',\r\n        STATIC_REGIONAL: '地区单预测方案',\r\n        DYNAMIC_INDUSTRIAL: '行业单预测方案',\r\n        MIX: '组合预测方案',\r\n        LONGTERM: '远期规划预测方案',\r\n        BIGUSER: '大用户预测方案',\r\n        SOKU: '负荷特性预测方案',\r\n        CLAMP: '负荷特性预测方案',\r\n        INTERP: '负荷特性预测方案',\r\n        YEARCONT: '负荷特性预测方案',\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    loadTags() {\r\n      this.$axios.get('/tags/query', {\r\n        params: {\r\n          tagType: 'PROVINCE',\r\n        },\r\n      }).then((response) => {\r\n        this.$data.knownTags = response.data.data;\r\n      });\r\n    },\r\n    loadMunicipals() {\r\n      this.$axios.get('/region/query').then((response) => {\r\n        const municipals = response.data.data;\r\n        this.$data.postParams.muniData = {};\r\n        municipals.forEach((elem) => {\r\n          this.$set(this.$data.postParams.muniData, elem, '');\r\n        });\r\n      });\r\n    },\r\n    loadUploadedFiles() {\r\n      this.$axios.get('/predict/munidata/files').then((response) => {\r\n        this.$data.knownUploadFiles = response.data.data;\r\n      });\r\n    },\r\n    onSuccess() {\r\n      this.$data.enabledUploadButton = true;\r\n      this.$messenger.success('上传成功。');\r\n      this.loadUploadedFiles();\r\n    },\r\n    onFailure() {\r\n      this.$data.enabledUploadButton = true;\r\n      this.$messenger.error('上传失败。');\r\n    },\r\n    beforeUpload() {\r\n      this.$data.enabledUploadButton = false;\r\n    },\r\n    performPrediction() {\r\n      this.$axios.post('/predict/provmuni', this.$data.postParams).then((response) => {\r\n        this.$data.tableThreeDataInternal = response.data.data.tableThreeData;\r\n        this.$data.tableFourDataInternal = response.data.data.tableFourData;\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    canCommitQuery() {\r\n      const param = this.$data.postParams;\r\n      if (param.historyBeginYear === null || param.historyEndYear === null) {\r\n        return false;\r\n      }\r\n      if (param.predictYear === null) {\r\n        return false;\r\n      }\r\n      if (param.provPlan.length === 0) {\r\n        return false;\r\n      }\r\n      if (param.muniData.length === 0) {\r\n        return false;\r\n      }\r\n      if (param.provPlan === '__byUpload__' && param.provFile.length === 0) {\r\n        return false;\r\n      }\r\n      let isOk = true;\r\n      Object.keys(param.muniData).forEach((key) => {\r\n        if (param.muniData[key].length === 0) {\r\n          isOk = false;\r\n        }\r\n      });\r\n      return isOk;\r\n    },\r\n    baseURL() {\r\n      return this.$axios.defaults.baseURL;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadTags();\r\n    this.loadMunicipals();\r\n    this.loadUploadedFiles();\r\n  },\r\n  props: [\r\n    'tableThreeData',\r\n    'tableFourData',\r\n  ],\r\n  watch: {\r\n    tableThreeDataInternal(value) {\r\n      this.$emit('update:tableThreeData', value);\r\n    },\r\n    tableFourDataInternal(value) {\r\n      this.$emit('update:tableFourData', value);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProvMuniPredictSelectForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProvMuniPredictSelectForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProvMuniPredictSelectForm.vue?vue&type=template&id=47be1c6d&scoped=true&\"\nimport script from \"./ProvMuniPredictSelectForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ProvMuniPredictSelectForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47be1c6d\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"8\">\r\n        <ProvMuniPredictSelectForm\r\n        :table-three-data.sync=\"tableThreeData\"\r\n        :table-four-data.sync=\"tableFourData\">\r\n        </ProvMuniPredictSelectForm>\r\n      </el-col>\r\n      <el-col :span=\"15\" :offset=\"1\">\r\n        <el-form>\r\n          <el-form-item v-show=\"currentChart !== undefined\">\r\n            <el-row>\r\n              <div id=\"pieChart\" style=\"width: 680px;height: 300px\"></div>\r\n            </el-row>\r\n          </el-form-item>\r\n          <el-form-item v-show=\"currentChart !== undefined\">\r\n            <el-button v-on:click=\"exportImage\">导出图像</el-button>\r\n          </el-form-item>\r\n          <el-form-item label=\"预测年份的协调预测结果：\">\r\n            <el-table :data=\"tableFourData\">\r\n              <el-table-column label=\"年份\" prop=\"year\"></el-table-column>\r\n              <el-table-column label=\"地区\" prop=\"region\"></el-table-column>\r\n              <el-table-column label=\"协调前预测值\" prop=\"predictBefore\"></el-table-column>\r\n              <el-table-column label=\"协调后预测值\" prop=\"predictAfter\"></el-table-column>\r\n            </el-table>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button @click=\"exportResultSheet\"\r\n                       :disabled=\"tableFourData.length === 0\">导出预测结果表</el-button>\r\n          </el-form-item>\r\n          <el-form-item label=\"历史年份协调预测误差校核：\">\r\n            <el-table :data=\"tableThreeData\">\r\n              <el-table-column label=\"年份\" prop=\"year\"></el-table-column>\r\n              <el-table-column label=\"地区\" prop=\"region\"></el-table-column>\r\n              <el-table-column label=\"协调前预测值\" prop=\"predictValueBefore\"></el-table-column>\r\n              <el-table-column label=\"协调前预测误差\" prop=\"predictErrorBefore\"></el-table-column>\r\n              <el-table-column label=\"协调后预测值\" prop=\"predictValueAfter\"></el-table-column>\r\n              <el-table-column label=\"协调后预测误差\" prop=\"predictErrorAfter\"></el-table-column>\r\n            </el-table>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button @click=\"exportErrorSheet\"\r\n            :disabled=\"tableThreeData.length === 0\">导出历史误差表</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProvMuniPredictSelectForm from '@/components/SelectForm/ProvMuniPredictSelectForm.vue';\r\nimport * as json2csv from 'json2csv';\r\nimport { saveAs } from 'file-saver';\r\nimport * as echarts from 'echarts';\r\n\r\nfunction base64ToBlob(code) {\r\n  const parts = code.split(';base64,');\r\n  const contentType = parts[0].split(':')[1];\r\n  const raw = window.atob(parts[1]);\r\n  const rawLength = raw.length;\r\n\r\n  const uInt8Array = new Uint8Array(rawLength);\r\n\r\n  // eslint-disable-next-line no-plusplus\r\n  for (let i = 0; i < rawLength; ++i) {\r\n    uInt8Array[i] = raw.charCodeAt(i);\r\n  }\r\n  return new Blob([uInt8Array], { type: contentType });\r\n}\r\n\r\nexport default {\r\n  name: 'ProvMuniCoordPredict',\r\n  data() {\r\n    return {\r\n      currentChart: undefined,\r\n      tableThreeData: [],\r\n      tableFourData: [],\r\n    };\r\n  },\r\n  methods: {\r\n    refreshChart() {\r\n      console.log('called!');\r\n      const data = this.$data.tableFourData;\r\n      if (this.currentChart === undefined) {\r\n        this.currentChart = echarts.init(document.getElementById('pieChart'));\r\n      }\r\n      const pieData = [];\r\n      data.forEach((elem) => {\r\n        pieData.push({\r\n          name: elem.region,\r\n          value: elem.predictAfter,\r\n        });\r\n      });\r\n      this.currentChart.setOption({\r\n        series: [\r\n          {\r\n            name: '协调预测结果',\r\n            type: 'pie',\r\n            radius: '55%',\r\n            data: pieData,\r\n          },\r\n        ],\r\n      }, true);\r\n    },\r\n    exportImage() {\r\n      if (!this.currentChart) {\r\n        return;\r\n      }\r\n      const content = this.currentChart.getDataURL();\r\n      const blob = base64ToBlob(content);\r\n      saveAs(blob, 'chart.png');\r\n    },\r\n    exportTableSheet(rawData, fields) {\r\n      const data = json2csv.parse(rawData, {\r\n        fields,\r\n      });\r\n      const blob = new Blob([data], { type: 'text/csv' });\r\n      saveAs(blob, 'database.csv');\r\n    },\r\n    exportErrorSheet() {\r\n      this.exportTableSheet(this.$data.tableThreeData,\r\n        [\r\n          'year',\r\n          'region',\r\n          'predictValueBefore',\r\n          'predictErrorBefore',\r\n          'predictValueAfter',\r\n          'predictErrorAfter',\r\n        ]);\r\n    },\r\n    exportResultSheet() {\r\n      this.exportTableSheet(this.$data.tableFourData,\r\n        [\r\n          'year',\r\n          'region',\r\n          'predictBefore',\r\n          'predictAfter',\r\n        ]);\r\n    },\r\n  },\r\n  components: { ProvMuniPredictSelectForm },\r\n  watch: {\r\n    tableFourData: {\r\n      handler() {\r\n        this.refreshChart();\r\n      },\r\n      deep: true,\r\n      immediate: false,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProvMuniCoordPredict.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProvMuniCoordPredict.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProvMuniCoordPredict.vue?vue&type=template&id=cd53e230&scoped=true&\"\nimport script from \"./ProvMuniCoordPredict.vue?vue&type=script&lang=js&\"\nexport * from \"./ProvMuniCoordPredict.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cd53e230\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearRangeSelector.vue?vue&type=style&index=0&id=7bfa7c13&scoped=true&lang=css&\"","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n"],"sourceRoot":""}