(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bc7a348"],{"18c0":function(t,e,s){},"24a2":function(t,e,s){"use strict";s("18c0")},7904:function(t,e,s){"use strict";s("b644")},"9ddf":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper",staticStyle:{margin:"0px"}},[t._m(0),s("el-row",{staticClass:"section",attrs:{type:"flex",justify:"center"}},[s("LogInDialog")],1),s("div",{staticClass:"footer",staticStyle:{"text-align":"center",margin:"0px"}},[t._v(" 上海交通大学大数据工程技术研究中心 © 2021 ")])],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section",staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{width:"70%",margin:"0px"},attrs:{src:s("f773")}})])}],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"600px"}},[s("el-card",{attrs:{hidden:t.isLogin}},[s("span",{attrs:{slot:"header"},slot:"header"},[s("span",[t._v("登录状态")])]),s("el-row",{attrs:{type:"flex",justify:"center"}},[s("span",{style:t.loginStateStyle},[t._v(t._s(t.loginStateText))])]),s("el-row",{attrs:{type:"flex",justify:"space-around"}},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(t._s(t.loginButtonText))]),s("el-button",{attrs:{type:"danger",disabled:t.logoutButtonDisabled},on:{click:t.logOut}},[t._v("注销")])],1)],1),s("el-dialog",{attrs:{title:"登录",visible:t.dialogVisible,width:"30%"},on:{close:t.clearInput,"update:visible":function(e){t.dialogVisible=e}}},[s("el-form",[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{attrs:{clearable:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{clearable:"",type:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.realLogInClicked(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),s("el-button",{attrs:{type:"primary",disabled:0===t.username.length||0===t.password.length},on:{click:t.realLogInClicked}},[t._v("确定")])],1)],1)],1)},a=[],l={name:"LogInDialog",data:function(){return{dialogVisible:!1,username:"",password:""}},computed:{loginStateText:function(){return this.$store.state.isLogin?"已登录":"未登录"},loginStateStyle:function(){return"color: ".concat(this.$store.state.isLogin?"green":"red")},logoutButtonDisabled:function(){return!this.$store.state.isLogin},isLogin:function(){return this.$store.state.isLogin},loginButtonText:function(){return this.$store.state.isLogin?"切换用户":"登录"}},methods:{bypassLogIn:function(){this.$store.commit("login")},logOut:function(){var t=this;this.$store.commit("logout"),this.$axios.post("/logout").then((function(e){console.log(e),t.$messenger.success("注销成功。")}))},realLogInClicked:function(){var t=this;0!==this.$data.username.length&&0!==this.$data.password.length&&(this.dialogVisible=!1,this.$axios.post("login",{username:this.$data.username,password:this.$data.password}).then((function(e){console.log(e),t.$messenger.success("登录成功。"),t.$store.commit("login")})).catch((function(e){console.log(e),t.$store.commit("logout")})))},clearInput:function(){this.$data.username="",this.$data.password=""}}},r=l,c=(s("24a2"),s("2877")),u=Object(c["a"])(r,i,a,!1,null,"12b87a88",null),d=u.exports,g={name:"LogIn",components:{LogInDialog:d}},p=g,f=(s("7904"),Object(c["a"])(p,n,o,!1,null,null,null));e["default"]=f.exports},b644:function(t,e,s){},f773:function(t,e,s){t.exports=s.p+"img/title.a0d97f14.png"}}]);
//# sourceMappingURL=chunk-6bc7a348.496bf3d6.js.map