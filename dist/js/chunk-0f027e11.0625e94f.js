(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f027e11"],{1148:function(t,e,a){"use strict";var r=a("a691"),i=a("1d80");t.exports="".repeat||function(t){var e=String(i(this)),a="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(a+=e);return a}},"408a":function(t,e,a){var r=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"98ae":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:5,offset:1}},[a("el-form",{attrs:{"label-position":"right","label-width":"auto"}},[a("el-form-item",{attrs:{label:"对比方案标签："}},[a("el-select",{attrs:{multiple:""},model:{value:t.postParams.tags,callback:function(e){t.$set(t.postParams,"tags",e)},expression:"postParams.tags"}},t._l(t.knownTags,(function(e){return a("el-option",{key:e.tag,attrs:{value:e.tag}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.tag))]),a("span",{staticStyle:{float:"right",color:"#8492a6"}},[t._v(t._s(t.typeName[e.tagType]))])])})),1)],1),a("el-form-item",{attrs:{label:"对比特征："}},[a("el-select",{model:{value:t.postParams.trait,callback:function(e){t.$set(t.postParams,"trait",e)},expression:"postParams.trait"}},t._l(t.knownTraits,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:!t.canCommitQuery},on:{click:t.performCompare}},[t._v("对比")])],1)],1)],1),a("el-col",{attrs:{span:17,offset:1}},[a("el-row",[a("div",{staticStyle:{height:"500px"},attrs:{id:"compareChart"}})]),void 0!==t.currentChart?a("el-row",[a("el-form",[a("el-form-item",[a("el-button",{on:{click:t.exportImage}},[t._v("导出图像")])],1),a("el-form-item",{attrs:{label:"显示方式："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentDisplayMethod,callback:function(e){t.currentDisplayMethod=e},expression:"currentDisplayMethod"}},t._l(t.displayMethods,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1):t._e()],1)],1)],1)},i=[],o=(a("1276"),a("ac1f"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("d3b7"),a("159b"),a("99af"),a("b680"),a("313e")),n=a("21a6");function l(t){for(var e=t.split(";base64,"),a=e[0].split(":")[1],r=window.atob(e[1]),i=r.length,o=new Uint8Array(i),n=0;n<i;++n)o[n]=r.charCodeAt(n);return new Blob([o],{type:a})}var s={name:"PredictResultDisplay",data:function(){return{postParams:{tags:[],trait:null},currentChart:void 0,displayData:[],displayMethods:[{label:"折线图",value:"line"},{label:"柱状图",value:"bar"},{label:"散点图",value:"scatter"}],knownTags:[],knownTraits:[{label:"MAPE 值",value:"MAPE"},{label:"RMSE 值",value:"RMSE"},{label:"预测功率值（MW）",value:"predictMVW"}],typeName:{MINING:"数据挖掘方案",STATIC_REGIONAL:"地区单预测方案",DYNAMIC_INDUSTRIAL:"行业单预测方案",MIX:"组合预测方案",LONGTERM:"远期规划预测方案",BIGUSER:"大用户预测方案",SOKU:"负荷特性预测方案",CLAMP:"负荷特性预测方案",INTERP:"负荷特性预测方案",YEARCONT:"负荷特性预测方案"},currentDisplayMethod:"line"}},mounted:function(){this.loadTags()},computed:{canCommitQuery:function(){var t=this.$data.postParams;return!(t.tags.length<2||null===t.trait)}},methods:{exportImage:function(){if(this.currentChart){var t=this.currentChart.getDataURL(),e=l(t);Object(n["saveAs"])(e,"预测图像.png")}},loadTags:function(){var t=this;this.$axios.get("/predict/results/query").then((function(e){t.$data.knownTags=e.data.data}))},refreshChart:function(){var t=this,e=this.$data.displayData;void 0===this.currentChart&&(this.currentChart=o["init"](document.getElementById("compareChart")),window.onresize=this.currentChart.resize);var a=[];e.yData.forEach((function(e){a.push({data:e.data,name:e.tag,type:t.$data.currentDisplayMethod})}));var r={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){for(var e="",a=0;a<t.length;a+=1)if(""!==t[a].seriesName&&void 0!==t[a].value){var r=t[a].color;e+='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background:'.concat(r,'"></span>'),e+="".concat(t[a].seriesName," - ").concat(parseFloat(t[a].value).toFixed(2),"</br>")}return e}},xAxis:{type:"category",name:e.xName,data:e.xData,axisTick:{alignWithLabel:!0},axisLabel:{show:!0,textStyle:{color:"#ffffff",fontSize:14}},axisLine:{lineStyle:{color:"#ffffff"}},boundaryGap:"bar"===this.$data.currentDisplayMethod,onZero:!0},yAxis:{type:"value",name:e.yName,axisLabel:{show:!0,textStyle:{color:"#ffffff",fontSize:14}},axisLine:{lineStyle:{color:"#ffffff"}}},series:a,legend:{orient:"horizontal",x:"center",y:"top",textStyle:{color:"#ffffff",fontSize:16}}};this.currentChart.setOption(r,!0),this.currentChart.style.width="".concat(.6*document.body.clientWidth,"px")},performCompare:function(){var t=this;this.$axios.post("/predict/results/compare",this.$data.postParams).then((function(e){t.$data.displayData=e.data.data,t.refreshChart()}))}},watch:{currentDisplayMethod:function(){this.refreshChart()}}},c=s,f=a("2877"),u=Object(f["a"])(c,r,i,!1,null,"1f2c840a",null);e["default"]=u.exports},b680:function(t,e,a){"use strict";var r=a("23e7"),i=a("a691"),o=a("408a"),n=a("1148"),l=a("d039"),s=1..toFixed,c=Math.floor,f=function(t,e,a){return 0===e?a:e%2===1?f(t,e-1,a*t):f(t*t,e/2,a)},u=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},d=function(t,e,a){var r=-1,i=a;while(++r<6)i+=e*t[r],t[r]=i%1e7,i=c(i/1e7)},p=function(t,e){var a=6,r=0;while(--a>=0)r+=t[a],t[a]=c(r/e),r=r%e*1e7},h=function(t){var e=6,a="";while(--e>=0)if(""!==a||0===e||0!==t[e]){var r=String(t[e]);a=""===a?r:a+n.call("0",7-r.length)+r}return a},m=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){s.call({})}));r({target:"Number",proto:!0,forced:m},{toFixed:function(t){var e,a,r,l,s=o(this),c=i(t),m=[0,0,0,0,0,0],b="",v="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(b="-",s=-s),s>1e-21)if(e=u(s*f(2,69,1))-69,a=e<0?s*f(2,-e,1):s/f(2,e,1),a*=4503599627370496,e=52-e,e>0){d(m,0,a),r=c;while(r>=7)d(m,1e7,0),r-=7;d(m,f(10,r,1),0),r=e-1;while(r>=23)p(m,1<<23),r-=23;p(m,1<<r),d(m,1,1),p(m,2),v=h(m)}else d(m,0,a),d(m,1<<-e,0),v=h(m)+n.call("0",c);return c>0?(l=v.length,v=b+(l<=c?"0."+n.call("0",c-l)+v:v.slice(0,l-c)+"."+v.slice(l-c))):v=b+v,v}})}}]);
//# sourceMappingURL=chunk-0f027e11.0625e94f.js.map