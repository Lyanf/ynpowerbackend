(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46f3d3bd"],{"6d09":function(t,e,o){"use strict";o("af1d")},"9ddf":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-row",{staticStyle:{"margin-top":"10%"},attrs:{type:"flex",justify:"center"}},[o("LogInDialog")],1)},s=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{width:"600px"}},[o("el-card",[o("span",{attrs:{slot:"header"},slot:"header"},[o("span",[t._v("登录状态")])]),o("el-row",{attrs:{type:"flex",justify:"center"}},[o("span",{style:t.loginStateStyle},[t._v(t._s(t.loginStateText))])]),o("el-row",{attrs:{type:"flex",justify:"space-around"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(t._s(t.loginButtonText))]),o("el-button",{attrs:{type:"danger",disabled:t.logoutButtonDisabled},on:{click:t.logOut}},[t._v("注销")])],1)],1),o("el-dialog",{attrs:{title:"登录",visible:t.dialogVisible,width:"30%"},on:{close:t.clearInput,"update:visible":function(e){t.dialogVisible=e}}},[o("el-form",[o("el-form-item",{attrs:{label:"用户名"}},[o("el-input",{attrs:{clearable:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),o("el-form-item",{attrs:{label:"密码"}},[o("el-input",{attrs:{clearable:"",type:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.realLogInClicked(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),o("el-button",{attrs:{type:"primary",disabled:0===t.username.length||0===t.password.length},on:{click:t.realLogInClicked}},[t._v("确定")])],1)],1)],1)},a=[],l={name:"LogInDialog",data:function(){return{dialogVisible:!1,username:"",password:""}},computed:{loginStateText:function(){return this.$store.state.isLogin?"已登录":"未登录"},loginStateStyle:function(){return"color: ".concat(this.$store.state.isLogin?"green":"red")},logoutButtonDisabled:function(){return!this.$store.state.isLogin},loginButtonText:function(){return this.$store.state.isLogin?"切换用户":"登录"}},methods:{bypassLogIn:function(){this.$store.commit("login")},logOut:function(){var t=this;this.$store.commit("logout"),this.$axios.post("/logout").then((function(e){console.log(e),t.$messenger.success("注销成功。")}))},realLogInClicked:function(){var t=this;0!==this.$data.username.length&&0!==this.$data.password.length&&(this.dialogVisible=!1,this.$axios.post("login",{username:this.$data.username,password:this.$data.password}).then((function(e){console.log(e),t.$messenger.success("登录成功。"),t.$store.commit("login")})).catch((function(e){console.log(e),t.$store.commit("logout")})))},clearInput:function(){this.$data.username="",this.$data.password=""}}},r=l,u=(o("6d09"),o("2877")),c=Object(u["a"])(r,i,a,!1,null,"41274a90",null),d=c.exports,g={name:"LogIn",components:{LogInDialog:d}},p=g,f=Object(u["a"])(p,n,s,!1,null,"77b6e829",null);e["default"]=f.exports},af1d:function(t,e,o){}}]);
//# sourceMappingURL=chunk-46f3d3bd.95d19431.js.map