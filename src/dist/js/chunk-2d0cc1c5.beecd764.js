(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc1c5"],{"4d10":function(a,t,e){"use strict";e.r(t);var l=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("el-row",{attrs:{type:"flex",justify:"center"}},[e("el-col",{attrs:{span:5}},[e("el-form",[e("el-form-item",{attrs:{label:"方案选择："}},[e("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:a.selectedPlans,callback:function(t){a.selectedPlans=t},expression:"selectedPlans"}},a._l(a.miningResults,(function(a){return e("el-option",{key:a.tag,attrs:{label:a.tag,value:a.tag}})})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary",disabled:0===a.selectedPlans.length},on:{click:a.updateTableDisplay}},[a._v("确定")])],1)],1)],1),e("el-col",{attrs:{offset:2,span:12}},[e("el-form",[0!==a.kMeansData.length?e("div",[e("el-form-item",[e("el-button",{attrs:{disabled:0===a.kMeansData.length},on:{click:a.exportKMeansData}},[a._v("导出表格")])],1),e("el-form-item",{attrs:{label:"K 均值挖掘结果表："}},[e("el-table",{attrs:{data:a.kMeansData}},[e("el-table-column",{attrs:{prop:"tag",label:"预测方案"}}),e("el-table-column",{attrs:{prop:"index",label:"类别序号"}}),e("el-table-column",{attrs:{prop:"members",label:"成员"}})],1)],1)],1):a._e(),0!==a.pcaData.length?e("div",[e("el-form-item",[e("el-button",{attrs:{disabled:0===a.pcaData.length},on:{click:a.exportPCAData}},[a._v("导出表格")])],1),e("el-form-item",{attrs:{label:"主成分分析挖掘结果表："}},[e("el-table",{attrs:{data:a.pcaData}},[e("el-table-column",{attrs:{prop:"tag",label:"预测方案"}}),e("el-table-column",{attrs:{prop:"index",label:"主成分编号"}}),e("el-table-column",{attrs:{prop:"percentage",label:"所占比例"}}),e("el-table-column",{attrs:{prop:"name",label:"影响因素名称"}}),e("el-table-column",{attrs:{prop:"factor",label:"影响因素对应系数"}})],1)],1)],1):a._e(),0!==a.aprioriData.length?e("div",[e("el-form-item",[e("el-button",{attrs:{disabled:0===a.aprioriData.length},on:{click:a.exportAprioriData}},[a._v("导出表格")])],1),e("el-form-item",{attrs:{label:"关联规则挖掘结果表："}},[e("el-table",{attrs:{data:a.aprioriData}},[e("el-table-column",{attrs:{prop:"tag",label:"预测方案"}}),e("el-table-column",{attrs:{prop:"name",label:"影响因素名称"}}),e("el-table-column",{attrs:{prop:"score",label:"影响因素强弱得分"}}),e("el-table-column",{attrs:{prop:"confidence",label:"置信度"}})],1)],1)],1):a._e()])],1)],1)],1)},n=[],r=(e("159b"),e("a15b"),e("f59f")),o=e("21a6"),s={name:"MiningResult",data:function(){return{selectedPlans:[],miningResults:[],kMeansData:[],pcaData:[],aprioriData:[]}},mounted:function(){this.loadMiningResults()},methods:{loadMiningResults:function(){var a=this;this.$axios.get("/mining/results").then((function(t){a.$data.miningResults=t.data.data}))},updateTableDisplay:function(){var a=this;this.$data.kMeansData=[],this.$data.pcaData=[],this.$data.aprioriData=[],this.$data.selectedPlans.forEach((function(t){a.$axios.get("/predict/results/detail",{params:{tag:t}}).then((function(e){var l=e.data.data.result,n=e.data.data.arg;if("K均值算法"===n.method){var r=1;l.Clusters.forEach((function(e){a.$data.kMeansData.push({tag:t,index:r,members:e.join("、")}),r+=1}))}else if("主成分分析算法"===n.method)for(var o=0;o<l.N_components.length;o+=1)for(var s=0;s<l.FactorName.length;s+=1)a.$data.pcaData.push({tag:t,index:o+1,percentage:l.ComponetRatio[o],name:l.FactorName[s],factor:l.Vectors[o][s]});else if("关联规则分析算法"===n.method)for(var i=0;i<l.FactorsName.length;i+=1)a.$data.aprioriData.push({tag:t,name:l.FactorsName[i],score:l.Score[i],confidence:l.Confidence[i]})}))}))},exportTableSheet:function(a,t){var e=r["parse"](a,{fields:t}),l=new Blob([e],{type:"text/csv"});Object(o["saveAs"])(l,"挖掘结果表.csv")},exportKMeansData:function(){this.exportTableSheet(this.$data.kMeansData,["index","members"])},exportPCAData:function(){this.exportTableSheet(this.$data.pcaData,["index","percentage","name","factor"])},exportAprioriData:function(){this.exportTableSheet(this.$data.aprioriData,["name","score","confidence"])}}},i=s,c=e("2877"),p=Object(c["a"])(i,l,n,!1,null,"02dec610",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0cc1c5.beecd764.js.map